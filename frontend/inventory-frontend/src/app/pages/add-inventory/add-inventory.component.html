<h2>Add item</h2>

<div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>

<form class="mt-3" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label class="form-label">Location</label>
    <select class="form-select" formControlName="locationId">
      <option [ngValue]="null">Select location...</option>
      <option *ngFor="let loc of locations" [ngValue]="loc.id">
        {{ loc.name }}
      </option>
    </select>
    <div
      class="text-danger small"
      *ngIf="submitted && f.locationId.errors?.['required']"
    >
      Location is required.
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" class="form-control" formControlName="name" />
    <div
      class="text-danger small"
      *ngIf="submitted && f.name.errors?.['required']"
    >
      Name is required.
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Price (GEL)</label>
    <input type="number" class="form-control" formControlName="price" />
    <div class="text-danger small" *ngIf="submitted && f.price.errors">
      Price is required and must be positive.
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Add</button>
</form>

<div
  *ngIf="showSuccess"
  class="alert alert-success alert-slide-down mt-3"
  role="alert"
>
  Item added successfully!
</div>

<div *ngIf="error" class="alert alert-danger alert-shake mt-3" role="alert">
  {{ error }}
</div>
